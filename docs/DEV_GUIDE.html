<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Guide - AI-Driven Test Coverage System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --sidebar-width: 280px;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1e293b;
            background: #f8fafc;
        }
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-size: 2rem; margin-bottom: 0.5rem; font-weight: 700; }
        .header-meta { display: flex; gap: 2rem; font-size: 0.9rem; opacity: 0.95; flex-wrap: wrap; }
        .container { display: flex; max-width: 1600px; margin: 0 auto; }
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            padding: 2rem 1rem;
            position: sticky;
            top: 140px;
            height: calc(100vh - 140px);
            overflow-y: auto;
            border-right: 1px solid #e2e8f0;
        }
        .sidebar h3 {
            font-size: 0.875rem;
            text-transform: uppercase;
            color: #64748b;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        .sidebar nav ul { list-style: none; }
        .sidebar nav li { margin-bottom: 0.5rem; }
        .sidebar nav a {
            color: #1e293b;
            text-decoration: none;
            display: block;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .sidebar nav a:hover { background: var(--primary-gradient); color: white; transform: translateX(4px); }
        .main-content { flex: 1; padding: 2rem; max-width: calc(100% - var(--sidebar-width)); }
        .content-wrapper {
            background: white;
            padding: 3rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        h2 {
            font-size: 2rem;
            margin: 2rem 0 1rem;
            color: #1e293b;
            border-bottom: 3px solid transparent;
            border-image: var(--primary-gradient);
            border-image-slice: 1;
            padding-bottom: 0.5rem;
        }
        h3 { font-size: 1.5rem; margin: 1.5rem 0 1rem; color: #1e293b; }
        h4 { font-size: 1.25rem; margin: 1.25rem 0 0.75rem; color: #1e293b; }
        p { margin-bottom: 1rem; color: #1e293b; }
        .alert {
            padding: 1.25rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .alert-info { background: #dbeafe; border-color: var(--info-color); color: #1e40af; }
        .alert-success { background: #d1fae5; border-color: var(--success-color); color: #065f46; }
        .alert-warning { background: #fef3c7; border-color: var(--warning-color); color: #92400e; }
        .alert-danger { background: #fee2e2; border-color: var(--danger-color); color: #991b1b; }
        .alert h4 { margin: 0 0 0.5rem; font-size: 1rem; }
        ul, ol { margin: 1rem 0 1rem 2rem; }
        li { margin-bottom: 0.5rem; }
        code {
            background: #f1f5f9;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
            color: #dc2626;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        pre code { background: none; padding: 0; color: inherit; }
        table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        thead { background: var(--primary-gradient); color: white; }
        th, td { padding: 1rem; text-align: left; border: 1px solid #e2e8f0; }
        tbody tr:nth-child(even) { background: #f8fafc; }
        tbody tr:hover { background: #f1f5f9; }
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3rem;
            height: 3rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .scroll-top:hover { transform: translateY(-4px); }
        .scroll-top.visible { display: flex; }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { max-width: 100%; }
            .content-wrapper { padding: 1.5rem; }
            .header h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üë®‚Äçüíª Developer Guide</h1>
        <div class="header-meta">
            <span><strong>Version:</strong> 6.3.0</span>
            <span><strong>Last Updated:</strong> December 20, 2025</span>
            <span><strong>Difficulty:</strong> Advanced</span>
        </div>
    </div>

    <div class="container">
        <aside class="sidebar">
            <h3>üìã Contents</h3>
            <nav>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#setup">Development Setup</a></li>
                    <li><a href="#workflow">Development Workflow</a></li>
                    <li><a href="#tasks">Common Dev Tasks</a></li>
                    <li><a href="#debugging">Debugging</a></li>
                    <li><a href="#testing">Testing</a></li>
                    <li><a href="#contributing">Contributing Guidelines</a></li>
                    <li><a href="#security">Security</a></li>
                    <li><a href="#resources">Additional Resources</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <div class="content-wrapper">
                <section id="overview">
                    <h2>üìñ Overview</h2>
                    
                    <p>This guide is for developers who want to:</p>
                    <ul>
                        <li>Contribute to the system</li>
                        <li>Extend functionality</li>
                        <li>Debug issues</li>
                        <li>Understand implementation details</li>
                        <li>Add new features</li>
                    </ul>

                    <div class="alert alert-info">
                        <h4>üìö Prerequisites</h4>
                        <p>This guide assumes you've read:</p>
                        <ul style="margin-bottom: 0;">
                            <li><strong>Getting Started</strong> - Basic setup and usage</li>
                            <li><strong>Architecture</strong> - System design and components</li>
                            <li><strong>Configuration</strong> - Configuration options</li>
                        </ul>
                    </div>
                </section>

                <section id="setup">
                    <h2>üöÄ Development Setup</h2>

                    <h3>Prerequisites</h3>
                    <pre><code># Required
node >= 16.0.0
npm >= 7.0.0
git >= 2.0.0

# Recommended
TypeScript >= 4.5.0
VS Code or IntelliJ IDEA</code></pre>

                    <h3>Initial Setup</h3>
                    <pre><code># 1. Clone repository
git clone &lt;repo-url&gt;
cd traceability-matrix-system

# 2. Install dependencies
npm install

# 3. Build TypeScript
npm run build

# 4. Set up API keys
cp .env.example .env
# Edit .env and add your CLAUDE_API_KEY

# 5. Run tests (if available)
npm test

# 6. Verify build
node dist/index.js --version</code></pre>

                    <h3>Project Structure</h3>
                    <pre><code>traceability-matrix-system/
‚îú‚îÄ‚îÄ bin/                        # CLI entry points
‚îÇ   ‚îú‚îÄ‚îÄ ai-generate            # Generate scenarios
‚îÇ   ‚îú‚îÄ‚îÄ ai-continue            # Analyze coverage
‚îÇ   ‚îî‚îÄ‚îÄ ai-generate-api        # Single API generation
‚îú‚îÄ‚îÄ lib/                        # Core source code
‚îÇ   ‚îú‚îÄ‚îÄ ai/                    # AI provider abstraction
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AIProvider.ts      # Interface
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AIProviderFactory.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ providers/         # Concrete implementations
‚îÇ   ‚îú‚îÄ‚îÄ core/                  # Core analysis engine
‚îÇ   ‚îú‚îÄ‚îÄ parsers/               # Language-specific parsers
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ templates/             # Report templates
‚îÇ   ‚îî‚îÄ‚îÄ types.ts               # TypeScript types
‚îú‚îÄ‚îÄ docs/                      # Documentation
‚îú‚îÄ‚îÄ scripts/                   # Build and hook scripts
‚îî‚îÄ‚îÄ .traceability/            # Runtime data</code></pre>
                </section>

                <section id="workflow">
                    <h2>üîß Development Workflow</h2>

                    <h3>Making Changes</h3>
                    <pre><code># 1. Create feature branch
git checkout -b feature/your-feature

# 2. Make changes
# Edit files in lib/

# 3. Build TypeScript
npm run build

# 4. Test locally
npm run continue

# 5. Verify changes
# Check reports, console output

# 6. Commit
git add .
git commit -m "feat: your feature description"

# 7. Push
git push origin feature/your-feature</code></pre>

                    <h3>Building</h3>
                    <pre><code># Full build
npm run build

# Watch mode (during development)
npx tsc --watch

# Clean build
rm -rf dist/
npm run build</code></pre>

                    <h3>Testing Changes</h3>
                    <pre><code># Test scenario generation
npm run generate

# Test coverage analysis
npm run continue

# Test specific service
node bin/ai-continue customer-service

# Test with verbose output
export VERBOSE=true
npm run continue</code></pre>
                </section>

                <section id="tasks">
                    <h2>üéØ Common Development Tasks</h2>

                    <h3>Task 1: Adding a New AI Provider</h3>
                    <p><strong>Example: Adding Google Gemini support</strong></p>

                    <h4>Step 1: Create Provider Class</h4>
                    <pre><code>// lib/ai/providers/GeminiProvider.ts
import { AIProvider, AIConfig } from '../AIProvider';
import { GoogleGenerativeAI } from '@google/generative-ai';

export class GeminiProvider implements AIProvider {
  private gemini: GoogleGenerativeAI;
  private model: string;

  constructor(config: AIConfig) {
    this.gemini = new GoogleGenerativeAI(config.apiKey);
    this.model = config.model || 'gemini-pro';
  }

  async generateTestScenarios(apiSpec: string): Promise&lt;any&gt; {
    const model = this.gemini.getGenerativeModel({ 
      model: this.model 
    });
    // Implementation
  }
}</code></pre>

                    <h4>Step 2: Update Factory</h4>
                    <pre><code>// lib/ai/AIProviderFactory.ts
import { GeminiProvider } from './providers/GeminiProvider';

export class AIProviderFactory {
  static create(config: AIConfig): AIProvider {
    switch (config.provider) {
      case 'anthropic':
        return new AnthropicProvider(config);
      case 'openai':
        return new OpenAIProvider(config);
      case 'gemini':  // Add this
        return new GeminiProvider(config);
      default:
        throw new Error(`Unknown provider: ${config.provider}`);
    }
  }
}</code></pre>

                    <h3>Task 2: Adding a New Language Parser</h3>
                    <p><strong>Example: Adding Rust test parser</strong></p>

                    <pre><code>// lib/parsers/RustTestParser.ts
export class RustTestParser {
  canParse(filePath: string): boolean {
    return filePath.endsWith('_test.rs') || 
           filePath.endsWith('tests.rs');
  }

  parseTests(filePath: string): any[] {
    const content = fs.readFileSync(filePath, 'utf-8');
    const tests: any[] = [];

    // Match Rust test functions: #[test]
    const testRegex = /#\[test\]\s*(?:#\[.*?\]\s*)*fn\s+(\w+)/g;
    // Parse tests...
    
    return tests;
  }
}</code></pre>

                    <h3>Task 3: Adding a New Report Format</h3>
                    <p><strong>Example: Adding XML report format</strong></p>

                    <pre><code>// lib/core/ReportGenerator.ts
export class ReportGenerator {
  async generateXML(data: AnalysisData): Promise&lt;void&gt; {
    const xml = this.buildXML(data);
    const filePath = path.join(
      this.outputDir, 
      `${data.serviceName}-report.xml`
    );
    
    fs.writeFileSync(filePath, xml, 'utf-8');
    console.log(`‚úÖ XML: ${filePath}`);
  }
}</code></pre>

                    <h3>Task 4: Customizing AI Prompts</h3>
                    <p><strong>Location:</strong> <code>lib/ai/providers/AnthropicProvider.ts</code></p>

                    <pre><code>private buildScenarioPrompt(api: any): string {
  return `You are a QA engineer analyzing an API endpoint.

API Details:
- Method: ${api.method}
- Path: ${api.path}

Generate comprehensive test scenarios covering:
1. Happy Cases - Normal successful flows
2. Error Cases - Expected failures
3. Edge Cases - Boundary conditions
4. Security Cases - Auth, injection

Format your response as YAML...`;
}</code></pre>

                    <div class="alert alert-info">
                        <h4>üí° Testing Custom Prompts</h4>
                        <pre><code># Enable verbose mode to see prompts
export VERBOSE=true
npm run generate

# Check AI responses in console
# Adjust prompt based on AI output quality</code></pre>
                    </div>
                </section>

                <section id="debugging">
                    <h2>üêõ Debugging</h2>

                    <h3>Enable Debug Mode</h3>
                    <pre><code># Maximum verbosity
export VERBOSE=true
export DEBUG="*"

# Run analysis
npm run continue 2>&1 | tee debug.log</code></pre>

                    <h3>Common Debugging Scenarios</h3>

                    <h4>Scenario 1: AI Not Matching Tests</h4>
                    <pre><code># Check what AI is seeing
export VERBOSE=true
npm run continue

# Look for:
# - Prompt sent to AI
# - AI response
# - Parsed matches

# Common issues:
# - Test names too generic
# - Scenario descriptions unclear
# - API key issues</code></pre>

                    <h4>Scenario 2: Tests Not Being Found</h4>
                    <pre><code>// Add logging to TestParserFactory
console.log('Parsing tests from:', testDirectory);
console.log('Pattern:', testPattern);
console.log('Found files:', foundFiles);

// Check:
// 1. testDirectory path correct?
// 2. testPattern matches files?
// 3. Parser supports language?</code></pre>

                    <h3>Using TypeScript Debugger</h3>
                    <p><strong>VS Code launch.json:</strong></p>
                    <pre><code>{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Continue",
      "program": "${workspaceFolder}/bin/ai-continue",
      "args": ["customer-service"],
      "env": {
        "CLAUDE_API_KEY": "your-key",
        "VERBOSE": "true"
      },
      "outFiles": ["${workspaceFolder}/dist/**/*.js"]
    }
  ]
}</code></pre>

                    <h3>Logging Best Practices</h3>
                    <pre><code>// Use console.log with prefixes
console.log('üìä [Analyzer]', 'Processing API:', api);
console.log('ü§ñ [AI]', 'Sending prompt...');
console.log('‚úÖ [Report]', 'Generated:', filePath);
console.log('‚ö†Ô∏è  [Warning]', 'Low confidence match');
console.log('‚ùå [Error]', error.message);

// Conditional logging
if (process.env.VERBOSE === 'true') {
  console.log('üîç [Debug]', detailedInfo);
}</code></pre>
                </section>

                <section id="testing">
                    <h2>üß™ Testing</h2>

                    <h3>Manual Testing</h3>
                    <pre><code># Test generation
npm run generate

# Test analysis
npm run continue

# Test specific service
node bin/ai-continue customer-service

# Test with sample data
# Edit .traceability/test-cases/baseline/*.yml
npm run continue</code></pre>

                    <h3>Integration Testing</h3>
                    <pre><code>// Create test service configuration
const testConfig = {
  name: 'test-service',
  path: './test-fixtures/service',
  language: 'java',
  testFramework: 'junit'
};

// Run analysis
const analyzer = new EnhancedCoverageAnalyzer();
const result = await analyzer.analyze(testConfig);

// Assert results
assert(result.coveragePercent > 0);
assert(result.apis.length > 0);</code></pre>

                    <h3>End-to-End Testing</h3>
                    <pre><code># Create complete test scenario
mkdir -p test-e2e/services/test-service
mkdir -p test-e2e/.traceability/test-cases/baseline

# Add test files
cp -r fixtures/* test-e2e/

# Run full analysis
cd test-e2e
npm run generate
npm run continue

# Verify reports
ls .traceability/reports/</code></pre>
                </section>

                <section id="contributing">
                    <h2>üìù Contributing Guidelines</h2>

                    <h3>Code Style</h3>
                    <pre><code>// Use TypeScript strict mode
"strict": true

// Prefer const over let
const data = loadData();

// Use async/await
async function analyze() {
  const result = await fetchData();
}

// Type everything
function process(data: AnalysisData): Report {
  // ...
}

// Use descriptive names
const coveragePercentage = calculateCoverage();</code></pre>

                    <h3>Commit Messages</h3>
                    <pre><code># Format: &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;

# Types:
feat: New feature
fix: Bug fix
docs: Documentation
style: Formatting
refactor: Code restructuring
test: Tests
chore: Maintenance

# Examples:
feat(ai): add Gemini provider support
fix(parser): handle edge case in Java parser
docs(dev): update contributor guide
refactor(core): simplify analyzer logic</code></pre>

                    <h3>Pull Request Process</h3>
                    <ol>
                        <li><strong>Create Feature Branch:</strong> <code>git checkout -b feature/your-feature</code></li>
                        <li><strong>Make Changes:</strong> Write code, add tests, update docs</li>
                        <li><strong>Test Thoroughly:</strong> <code>npm run build && npm run continue</code></li>
                        <li><strong>Commit:</strong> <code>git commit -m "feat: your feature"</code></li>
                        <li><strong>Push and Create PR:</strong> <code>git push origin feature/your-feature</code></li>
                        <li><strong>PR Checklist:</strong>
                            <ul>
                                <li>Code builds successfully</li>
                                <li>All existing functionality works</li>
                                <li>New feature tested manually</li>
                                <li>Documentation updated</li>
                                <li>No console errors</li>
                                <li>Commit messages follow convention</li>
                            </ul>
                        </li>
                    </ol>
                </section>

                <section id="security">
                    <h2>üîê Security Considerations</h2>

                    <h3>API Key Management</h3>
                    <pre><code>// ‚úÖ Good: Environment variables
const apiKey = process.env.CLAUDE_API_KEY;

// ‚ùå Bad: Hardcoded keys
const apiKey = 'sk-ant-...';  // Never do this!

// ‚úÖ Good: Validation
if (!apiKey) {
  throw new Error('API key not set');
}

// ‚úÖ Good: Never log keys
console.log('API key:', apiKey.substring(0, 10) + '...');</code></pre>

                    <h3>Data Privacy</h3>
                    <pre><code>// Only send necessary data to AI
const prompt = buildPrompt({
  apiSpec: api.spec,         // ‚úÖ OK
  testNames: tests.map(t => t.name),  // ‚úÖ OK
  sourceCode: fullCode       // ‚ùå Avoid if possible
});

// Sanitize sensitive data
function sanitize(data: any): any {
  return {
    ...data,
    apiKey: undefined,
    secrets: undefined,
    credentials: undefined
  };
}</code></pre>
                </section>

                <section id="resources">
                    <h2>üìö Additional Resources</h2>

                    <h3>TypeScript References</h3>
                    <ul>
                        <li><strong>Official Docs:</strong> <a href="https://www.typescriptlang.org/docs/" target="_blank">typescriptlang.org</a></li>
                        <li><strong>tsconfig.json:</strong> Project TypeScript configuration</li>
                        <li><strong>Type Definitions:</strong> <code>lib/types.ts</code></li>
                    </ul>

                    <h3>AI Provider Documentation</h3>
                    <ul>
                        <li><strong>Anthropic (Claude):</strong> <a href="https://docs.anthropic.com/" target="_blank">docs.anthropic.com</a></li>
                        <li><strong>OpenAI (GPT):</strong> <a href="https://platform.openai.com/docs" target="_blank">platform.openai.com/docs</a></li>
                    </ul>

                    <h3>Related Guides</h3>
                    <ul>
                        <li><strong>Architecture</strong> - System design details</li>
                        <li><strong>Configuration</strong> - All configuration options</li>
                        <li><strong>Getting Started</strong> - Basic setup</li>
                        <li><strong>QA Guide</strong> - For QA team members</li>
                    </ul>

                    <div class="alert alert-info">
                        <h4>ü§ù Getting Help</h4>
                        <p><strong>Documentation:</strong></p>
                        <ol>
                            <li>Check this guide first</li>
                            <li>Review Architecture for design</li>
                            <li>Check Troubleshooting for common issues</li>
                        </ol>
                        <p style="margin-top: 1rem;"><strong>Code Examples:</strong></p>
                        <pre style="margin-top: 0.5rem;"><code># Look at existing implementations
lib/parsers/JavaTestParser.ts      # Parser example
lib/ai/providers/AnthropicProvider.ts  # AI provider
lib/core/ReportGenerator.ts        # Report generation</code></pre>
                    </div>

                    <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border-radius: 0.5rem;">
                        <p style="font-size: 1.1rem; margin: 0;"><strong>Version 6.3.0</strong> | <strong>Status:</strong> Production Ready ‚úÖ</p>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <button class="scroll-top" id="scrollTopBtn">‚Üë</button>

    <script>
        window.addEventListener('scroll', function() {
            const scrollTop = document.querySelector('.scroll-top');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        document.getElementById('scrollTopBtn').addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        document.querySelectorAll('.sidebar a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
