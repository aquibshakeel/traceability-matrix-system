<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Guide - AI Test Coverage Analyzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #1a202c;
            background: #f7fafc;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            background: white;
        }

        .sidebar {
            width: 280px;
            background: #2d3748;
            color: white;
            padding: 20px;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.1em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin: 8px 0;
        }

        .sidebar a {
            color: #cbd5e0;
            text-decoration: none;
            display: block;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .sidebar a:hover {
            background: #4a5568;
            color: #fff;
            transform: translateX(5px);
        }

        .content {
            flex: 1;
            padding: 40px 60px;
            max-width: 900px;
        }

        .content h2 {
            color: #667eea;
            font-size: 2em;
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .content h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        .content h4 {
            color: #667eea;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 5px 5px 5px 0;
        }

        .badge-ai { background: #667eea; color: white; }
        .badge-success { background: #10b981; color: white; }
        .badge-info { background: #3b82f6; color: white; }
        .badge-warning { background: #f59e0b; color: white; }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .info-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
        }

        table td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        table tr:hover {
            background: #f7fafc;
        }

        ul, ol {
            margin: 15px 0 15px 25px;
        }

        li {
            margin: 8px 0;
        }

        code {
            background: #edf2f7;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #d63384;
        }

        @media print {
            .sidebar { display: none; }
            .content { max-width: 100%; padding: 20px; }
            .code-block { page-break-inside: avoid; }
        }

        @media (max-width: 1024px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: relative; }
            .content { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üõ†Ô∏è Developer Guide</h1>
        <p>AI Test Coverage Analyzer v3.0.0</p>
    </div>

    <div class="container">
        <nav class="sidebar">
            <h3>üìë Table of Contents</h3>
            <ul>
                <li><a href="#overview">1. System Overview</a></li>
                <li><a href="#quick-start">2. Quick Start</a></li>
                <li><a href="#integration">3. Integration Guide</a></li>
                <li><a href="#how-it-works">4. How It Works</a></li>
                <li><a href="#commands">5. CLI Commands</a></li>
                <li><a href="#baseline">6. Managing Baselines</a></li>
                <li><a href="#architecture">7. System Architecture</a></li>
                <li><a href="#troubleshooting">8. Troubleshooting</a></li>
            </ul>
        </nav>

        <main class="content">
            <section id="overview">
                <h2>1. System Overview üéØ</h2>
                
                <h3>What is it?</h3>
                <p>The <strong>AI Test Coverage Analyzer</strong> is a pure AI-driven system that uses Claude AI to analyze test coverage by comparing baseline test scenarios against actual unit tests in your codebase.</p>

                <div class="info-box">
                    <strong>üí° Key Innovation:</strong> 100% AI-powered analysis - no complex rules, no regex patterns, just intelligent AI understanding of your tests.
                </div>

                <h3>Core Capabilities</h3>
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>ü§ñ AI Analysis</td>
                        <td>Claude AI analyzes coverage with human-like understanding</td>
                    </tr>
                    <tr>
                        <td>üìä Coverage Reports</td>
                        <td>Detailed analysis of what's covered and what's missing</td>
                    </tr>
                    <tr>
                        <td>üîç Test Discovery</td>
                        <td>Automatically finds unit tests (Java, TypeScript, Python, Go)</td>
                    </tr>
                    <tr>
                        <td>üìù Baseline Management</td>
                        <td>Simple YAML format for expected test scenarios</td>
                    </tr>
                    <tr>
                        <td>üé® Swagger Integration</td>
                        <td>Generates test cases from OpenAPI/Swagger specs</td>
                    </tr>
                </table>

                <h3>Two-Phase System</h3>
                <ol>
                    <li><strong>Phase 1 (ai-generate):</strong> AI generates comprehensive test cases from Swagger specs</li>
                    <li><strong>Phase 2 (ai-continue):</strong> AI analyzes coverage by comparing baseline vs actual unit tests</li>
                </ol>
            </section>

            <section id="quick-start">
                <h2>2. Quick Start (5 Minutes) ‚ö°</h2>

                <h3>Prerequisites</h3>
                <ul>
                    <li>Node.js >= 18.x</li>
                    <li>npm >= 9.x</li>
                    <li>Claude API key (from Anthropic)</li>
                </ul>

                <h3>Installation</h3>
                <div class="code-block">
# Clone or navigate to your project
cd /path/to/your/project

# Install dependencies
npm install

# Set up Claude API key
export CLAUDE_API_KEY="sk-ant-your-key-here"
                </div>

                <h3>First Run - Generate Test Cases</h3>
                <div class="code-block">
# Generate test cases from Swagger/OpenAPI specs
npm run generate

# Output: .traceability/test-cases/ai_cases/
                </div>

                <h3>Second Run - Analyze Coverage</h3>
                <div class="code-block">
# Analyze coverage against baseline
npm run continue

# AI will analyze each API and provide detailed feedback
                </div>

                <div class="success-box">
                    <strong>‚úÖ Success!</strong> The AI will provide detailed console output showing coverage analysis for each API endpoint.
                </div>
            </section>

            <section id="integration">
                <h2>3. Service Integration Guide üîå</h2>

                <h3>Step 1: Add Service Configuration</h3>
                <p>Edit <code>.traceability/config.json</code>:</p>
                <div class="code-block">
{
  "services": [
    {
      "name": "your-service",
      "enabled": true,
      "path": "services/your-service",
      "language": "java",
      "testFramework": "junit",
      "testDirectory": "src/test/java",
      "testPattern": "**/*Test.java",
      "swaggerFile": "path/to/swagger.json"
    }
  ],
  "ai": {
    "model": "claude-3-5-sonnet-20241022",
    "temperature": 0.2,
    "maxTokens": 2000
  }
}
                </div>

                <h3>Step 2: Create Baseline File</h3>
                <p>Create <code>.traceability/test-cases/baseline/your-service-baseline.yml</code>:</p>
                <div class="code-block">
service: your-service

POST /api/orders:
  happy_case:
    - "Create order with valid payload returns 201"
    - "Order ID is returned in response"
  edge_case:
    - "Create order with minimal required fields"
    - "Create order with maximum allowed items"
  error_case:
    - "Invalid payload returns 400"
    - "Missing required fields returns 400"
  security:
    - "Unauthenticated request returns 401"
    - "Insufficient permissions returns 403"

GET /api/orders/{id}:
  happy_case:
    - "Retrieve existing order returns 200"
    - "Order details are complete and correct"
  error_case:
    - "Non-existent order returns 404"
    - "Invalid order ID format returns 400"
                </div>

                <h3>Step 3: Run Analysis</h3>
                <div class="code-block">
# Generate test cases (optional, if you have Swagger)
npm run generate

# Analyze coverage
npm run continue
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Important:</strong> The AI reads your existing tests - no code changes required!
                </div>
            </section>

            <section id="how-it-works">
                <h2>4. How the AI System Works üß†</h2>

                <h3>Phase 1: Test Case Generation (ai-generate)</h3>
                <ol>
                    <li><strong>Swagger Parsing:</strong> Reads OpenAPI/Swagger specifications</li>
                    <li><strong>AI Generation:</strong> Claude generates comprehensive test scenarios</li>
                    <li><strong>Categorization:</strong> Organizes into happy_case, edge_case, error_case, security</li>
                    <li><strong>Output:</strong> Saves to <code>.traceability/test-cases/ai_cases/</code></li>
                </ol>

                <h3>Phase 2: Coverage Analysis (ai-continue)</h3>
                <ol>
                    <li><strong>Load Baseline:</strong> Reads QA-defined expected scenarios</li>
                    <li><strong>Parse Tests:</strong> Discovers all unit tests in codebase</li>
                    <li><strong>AI Analysis:</strong> Claude analyzes which tests cover which scenarios</li>
                    <li><strong>Report:</strong> Provides detailed coverage feedback per API</li>
                </ol>

                <h3>AI Analysis Example</h3>
                <div class="code-block">
üìä Analyzing: customer-service

‚úì Baseline: 24 scenarios
‚úì Unit tests: 58 found

ü§ñ AI analyzing coverage...

POST /api/customers:

Scenario 1: "Create customer with valid data returns 201"
  ‚úÖ COVERED by: CustomerControllerTest.createCustomer_Success
  Coverage: COMPLETE - Tests valid creation, status code, response

Scenario 2: "Invalid email format returns 400"
  ‚ö†Ô∏è PARTIAL - Found validation test but doesn't check error message
  Missing: Verify error message contains "invalid email format"

Scenario 3: "Duplicate email returns 409"
  ‚ùå NOT COVERED - No test found for duplicate email scenario
  Action: Add test for duplicate email conflict
                </div>

                <h3>Key Advantages</h3>
                <ul>
                    <li><strong>No Rules:</strong> AI understands context naturally</li>
                    <li><strong>Smart Analysis:</strong> Identifies partial coverage and gaps</li>
                    <li><strong>Actionable Feedback:</strong> Tells you exactly what's missing</li>
                    <li><strong>Language Agnostic:</strong> Works with any test framework</li>
                </ul>
            </section>

            <section id="commands">
                <h2>5. CLI Commands üöÄ</h2>

                <h3>Available Commands</h3>
                <table>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                        <th>Use Case</th>
                    </tr>
                    <tr>
                        <td><code>npm run generate</code></td>
                        <td>Generate test cases from Swagger</td>
                        <td>When you have new/updated APIs</td>
                    </tr>
                    <tr>
                        <td><code>npm run continue</code></td>
                        <td>Analyze coverage vs baseline</td>
                        <td>After writing unit tests</td>
                    </tr>
                    <tr>
                        <td><code>npm run clean</code></td>
                        <td>Remove generated files</td>
                        <td>Fresh start, clean slate</td>
                    </tr>
                    <tr>
                        <td><code>npm run build</code></td>
                        <td>Compile TypeScript</td>
                        <td>After making code changes</td>
                    </tr>
                </table>

                <h3>Environment Variables</h3>
                <div class="code-block">
# Required: Claude API key
export CLAUDE_API_KEY="sk-ant-your-key-here"
# or
export ANTHROPIC_API_KEY="sk-ant-your-key-here"

# Optional: Configure AI model
# (set in .traceability/config.json instead)
                </div>

                <h3>Command Examples</h3>
                <div class="code-block">
# Full workflow
npm run clean          # Start fresh
npm run generate       # Generate from Swagger
npm run continue       # Analyze coverage

# Just analyze (if baseline already exists)
npm run continue

# Verbose output (debug mode)
DEBUG=* npm run continue
                </div>
            </section>

            <section id="baseline">
                <h2>6. Managing Baselines üìù</h2>

                <h3>Baseline File Structure</h3>
                <p>Location: <code>.traceability/test-cases/baseline/{service}-baseline.yml</code></p>

                <h4>Format Specification</h4>
                <div class="code-block">
service: service-name

{HTTP_METHOD} {API_PATH}:
  happy_case:
    - "Scenario description 1"
    - "Scenario description 2"
  edge_case:
    - "Edge case scenario 1"
  error_case:
    - "Error scenario 1"
    - "Error scenario 2"
  security:
    - "Security test scenario 1"
                </div>

                <h3>Category Guidelines</h3>
                <table>
                    <tr>
                        <th>Category</th>
                        <th>Purpose</th>
                        <th>Examples</th>
                    </tr>
                    <tr>
                        <td><strong>happy_case</strong></td>
                        <td>Normal, expected flows</td>
                        <td>Valid input returns 200, Data saved correctly</td>
                    </tr>
                    <tr>
                        <td><strong>edge_case</strong></td>
                        <td>Boundary conditions</td>
                        <td>Empty list, Maximum items, Minimum values</td>
                    </tr>
                    <tr>
                        <td><strong>error_case</strong></td>
                        <td>Error handling</td>
                        <td>Invalid input returns 400, Not found returns 404</td>
                    </tr>
                    <tr>
                        <td><strong>security</strong></td>
                        <td>Security concerns</td>
                        <td>Unauthorized returns 401, Forbidden returns 403</td>
                    </tr>
                </table>

                <h3>Best Practices</h3>
                <ul>
                    <li><strong>Be Specific:</strong> Write clear, testable scenario descriptions</li>
                    <li><strong>Include Status Codes:</strong> Mention expected HTTP status codes</li>
                    <li><strong>One Concept Per Scenario:</strong> Each scenario should test one thing</li>
                    <li><strong>Use Action Verbs:</strong> "Create", "Retrieve", "Update", "Delete", "Validate"</li>
                    <li><strong>Version Control:</strong> Keep baseline files in git</li>
                </ul>

                <h3>Example: Complete Baseline</h3>
                <div class="code-block">
service: customer-service

POST /api/customers:
  happy_case:
    - "Create customer with valid data returns 201"
    - "Customer ID is generated and returned"
    - "Customer data is saved to database"
  edge_case:
    - "Create customer with minimal required fields only"
    - "Create customer with all optional fields populated"
  error_case:
    - "Missing required field (email) returns 400"
    - "Invalid email format returns 400"
    - "Duplicate email returns 409"
  security:
    - "Unauthenticated request returns 401"
    - "Missing required permissions returns 403"

GET /api/customers/{id}:
  happy_case:
    - "Retrieve existing customer returns 200"
    - "All customer fields are populated correctly"
  error_case:
    - "Non-existent customer ID returns 404"
    - "Invalid UUID format returns 400"

PUT /api/customers/{id}:
  happy_case:
    - "Update customer with valid data returns 200"
    - "Updated fields are persisted to database"
  error_case:
    - "Update non-existent customer returns 404"
    - "Invalid field values return 400"
    - "Attempt to update email to duplicate returns 409"

DELETE /api/customers/{id}:
  happy_case:
    - "Delete existing customer returns 204"
    - "Customer is soft-deleted (not hard deleted)"
  error_case:
    - "Delete non-existent customer returns 404"
                </div>
            </section>

            <section id="architecture">
                <h2>7. System Architecture üèóÔ∏è</h2>

                <h3>Core Modules</h3>
                <table>
                    <tr>
                        <th>Module</th>
                        <th>File</th>
                        <th>Responsibility</th>
                    </tr>
                    <tr>
                        <td><strong>SwaggerParser</strong></td>
                        <td>lib/core/SwaggerParser.ts</td>
                        <td>Parse OpenAPI/Swagger specifications</td>
                    </tr>
                    <tr>
                        <td><strong>AITestCaseGenerator</strong></td>
                        <td>lib/core/AITestCaseGenerator.ts</td>
                        <td>Generate test cases using Claude AI</td>
                    </tr>
                    <tr>
                        <td><strong>SimpleCoverageAnalyzer</strong></td>
                        <td>lib/core/SimpleCoverageAnalyzer.ts</td>
                        <td>AI-based coverage analysis</td>
                    </tr>
                    <tr>
                        <td><strong>TestParserFactory</strong></td>
                        <td>lib/core/TestParserFactory.ts</td>
                        <td>Multi-language test parsing</td>
                    </tr>
                    <tr>
                        <td><strong>ServiceManager</strong></td>
                        <td>lib/core/ServiceManager.ts</td>
                        <td>Service configuration management</td>
                    </tr>
                </table>

                <h3>Supported Languages & Frameworks</h3>
                <table>
                    <tr>
                        <th>Language</th>
                        <th>Frameworks</th>
                        <th>Test Patterns</th>
                    </tr>
                    <tr>
                        <td>Java</td>
                        <td>JUnit 4, JUnit 5, TestNG</td>
                        <td>*Test.java, *Tests.java</td>
                    </tr>
                    <tr>
                        <td>TypeScript/JavaScript</td>
                        <td>Jest, Mocha, Jasmine</td>
                        <td>*.test.ts, *.spec.ts</td>
                    </tr>
                    <tr>
                        <td>Python</td>
                        <td>Pytest, Unittest</td>
                        <td>test_*.py, *_test.py</td>
                    </tr>
                    <tr>
                        <td>Go</td>
                        <td>Go Test</td>
                        <td>*_test.go</td>
                    </tr>
                </table>

                <h3>Folder Structure</h3>
                <div class="code-block">
.traceability/
‚îú‚îÄ‚îÄ config.json                      # System configuration
‚îú‚îÄ‚îÄ test-cases/
‚îÇ   ‚îú‚îÄ‚îÄ baseline/                    # QA-managed (git tracked)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ customer-service-baseline.yml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ identity-service-baseline.yml
‚îÇ   ‚îú‚îÄ‚îÄ ai_cases/                    # AI-generated (git ignored)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ customer-service-ai.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ identity-service-ai.json
‚îÇ   ‚îî‚îÄ‚îÄ reports/                     # Coverage reports (git ignored)
‚îÇ       ‚îî‚îÄ‚îÄ coverage-analysis.txt
                </div>

                <h3>Data Flow</h3>
                <div class="code-block">
1. GENERATE PHASE:
   Swagger Spec ‚Üí SwaggerParser ‚Üí AITestCaseGenerator ‚Üí ai_cases/

2. ANALYZE PHASE:
   Baseline + Unit Tests ‚Üí SimpleCoverageAnalyzer ‚Üí AI Analysis ‚Üí Console Output
                </div>
            </section>

            <section id="troubleshooting">
                <h2>8. Troubleshooting üîç</h2>

                <h3>Common Issues</h3>

                <h4>Error: "Claude API key required"</h4>
                <div class="code-block">
Solution: Set environment variable
export CLAUDE_API_KEY="sk-ant-your-key-here"

# Or set in your shell profile (.bashrc, .zshrc)
echo 'export CLAUDE_API_KEY="sk-ant-your-key"' >> ~/.zshrc
                </div>

                <h4>Error: "Config not found"</h4>
                <div class="code-block">
Solution: Ensure you're in project root
cd /path/to/project-root
ls .traceability/config.json  # Should exist

# If missing, check .traceability/ directory exists
                </div>

                <h4>Error: "File not found: baseline"</h4>
                <div class="code-block">
Solution: Create baseline file
mkdir -p .traceability/test-cases/baseline
touch .traceability/test-cases/baseline/your-service-baseline.yml

# Then populate with scenarios (see section 6)
                </div>

                <h4>Issue: No tests found</h4>
                <div class="code-block">
Solution: Check testPattern in config.json
- Java: "**/*Test.java" or "**/*Tests.java"
- TypeScript: "**/*.test.ts" or "**/*.spec.ts"
- Python: "**/test_*.py" or "**/*_test.py"
- Go: "**/*_test.go"
                </div>

                <h4>Issue: AI analysis seems incomplete</h4>
                <div class="code-block">
Solution: Adjust AI parameters in config.json
{
  "ai": {
    "model": "claude-3-5-sonnet-20241022",
    "temperature": 0.2,      # Lower = more focused
    "maxTokens": 3000        # Increase for more detail
  }
}
                </div>

                <h3>Debug Mode</h3>
                <div class="code-block">
# Enable verbose logging
DEBUG=* npm run continue

# Check TypeScript compilation
npm run build

# Verify test parsing
node -e "const {TestParserFactory} = require('./lib/core/TestParserFactory'); console.log('OK')"
                </div>

                <h3>Getting Help</h3>
                <div class="warning-box">
                    <strong>üìß Need Support?</strong>
                    <ul style="margin-top: 10px;">
                        <li>Check documentation: <code>docs/QA_GUIDE.html</code></li>
                        <li>Review examples: <code>.traceability/test-cases/baseline/example-baseline.yml</code></li>
                        <li>Contact team: QA Automation Team</li>
                    </ul>
                </div>
            </section>

            <footer style="margin-top: 60px; padding-top: 30px; border-top: 2px solid #e2e8f0; text-align: center; color: #718096;">
                <p>AI Test Coverage Analyzer v3.0.0 | Developer Guide</p>
                <p>Powered by Claude AI | Generated: December 2025</p>
            </footer>
        </main>
    </div>
</body>
</html>
