<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Guide - AI-Driven Test Coverage System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --sidebar-width: 280px;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1e293b;
            background: #f8fafc;
        }
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-size: 2rem; margin-bottom: 0.5rem; font-weight: 700; }
        .header-meta { display: flex; gap: 2rem; font-size: 0.9rem; opacity: 0.95; flex-wrap: wrap; }
        .container { display: flex; max-width: 1600px; margin: 0 auto; }
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            padding: 2rem 1rem;
            position: sticky;
            top: 140px;
            height: calc(100vh - 140px);
            overflow-y: auto;
            border-right: 1px solid #e2e8f0;
        }
        .sidebar h3 {
            font-size: 0.875rem;
            text-transform: uppercase;
            color: #64748b;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        .sidebar nav ul { list-style: none; }
        .sidebar nav li { margin-bottom: 0.5rem; }
        .sidebar nav a {
            color: #1e293b;
            text-decoration: none;
            display: block;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .sidebar nav a:hover { background: var(--primary-gradient); color: white; transform: translateX(4px); }
        .main-content { flex: 1; padding: 2rem; max-width: calc(100% - var(--sidebar-width)); }
        .content-wrapper {
            background: white;
            padding: 3rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        h2 {
            font-size: 2rem;
            margin: 2rem 0 1rem;
            color: #1e293b;
            border-bottom: 3px solid transparent;
            border-image: var(--primary-gradient);
            border-image-slice: 1;
            padding-bottom: 0.5rem;
        }
        h3 { font-size: 1.5rem; margin: 1.5rem 0 1rem; color: #1e293b; }
        h4 { font-size: 1.25rem; margin: 1.25rem 0 0.75rem; color: #1e293b; }
        p { margin-bottom: 1rem; color: #1e293b; }
        .alert {
            padding: 1.25rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .alert-info { background: #dbeafe; border-color: var(--info-color); color: #1e40af; }
        .alert-success { background: #d1fae5; border-color: var(--success-color); color: #065f46; }
        .alert-warning { background: #fef3c7; border-color: var(--warning-color); color: #92400e; }
        .alert-danger { background: #fee2e2; border-color: var(--danger-color); color: #991b1b; }
        .alert h4 { margin: 0 0 0.5rem; font-size: 1rem; }
        ul, ol { margin: 1rem 0 1rem 2rem; }
        li { margin-bottom: 0.5rem; }
        code {
            background: #f1f5f9;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
            color: #dc2626;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        pre code { background: none; padding: 0; color: inherit; }
        table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        thead { background: var(--primary-gradient); color: white; }
        th, td { padding: 1rem; text-align: left; border: 1px solid #e2e8f0; }
        tbody tr:nth-child(even) { background: #f8fafc; }
        tbody tr:hover { background: #f1f5f9; }
        .feature-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border: 2px solid #667eea;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        .feature-box h3 { margin-top: 0; color: #667eea; }
        .workflow-step {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            position: relative;
        }
        .workflow-step::before {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -2rem;
            width: 2px;
            height: 2rem;
            background: #cbd5e1;
        }
        .workflow-step:last-child::before { display: none; }
        .workflow-step h4 { margin: 0 0 0.5rem; color: #667eea; }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        .benefit-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1.25rem;
            transition: all 0.3s;
        }
        .benefit-item:hover {
            border-color: #667eea;
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.2);
        }
        .benefit-item h4 { margin: 0 0 0.5rem; color: #667eea; font-size: 1rem; }
        .command-box {
            background: #f8fafc;
            border-left: 4px solid #667eea;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }
        .command-box h4 { margin: 0 0 0.5rem; font-size: 1rem; color: #667eea; }
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3rem;
            height: 3rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .scroll-top:hover { transform: translateY(-4px); }
        .scroll-top.visible { display: flex; }
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { max-width: 100%; }
            .content-wrapper { padding: 1.5rem; }
            .header h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ› ï¸ Developer Guide - AI-Driven Test Coverage System</h1>
        <div class="header-meta">
            <span><strong>Version:</strong> 6.0.0</span>
            <span><strong>Last Updated:</strong> December 10, 2025</span>
            <span><strong>Audience:</strong> Developers, DevOps Engineers, Tech Leads</span>
        </div>
    </div>

    <div class="container">
        <aside class="sidebar">
            <h3>ğŸ“‹ Contents</h3>
            <nav>
                <ul>
                    <li><a href="#what-is-this">What is This System?</a></li>
                    <li><a href="#quick-setup">Quick Setup</a></li>
                    <li><a href="#how-ai-works">How Claude AI Works</a></li>
                    <li><a href="#architecture">Architecture Overview</a></li>
                    <li><a href="#running-locally">Running Locally</a></li>
                    <li><a href="#pre-commit">Pre-Commit Hook</a></li>
                    <li><a href="#reports">Interpreting Reports</a></li>
                    <li><a href="#advanced-features">Advanced Features</a></li>
                    <li><a href="#implementation">Implementation Details</a></li>
                    <li><a href="#unit-tests">Writing Unit Tests</a></li>
                    <li><a href="#examples">Real-World Examples</a></li>
                    <li><a href="#best-practices">Best Practices</a></li>
                    <li><a href="#troubleshooting">Troubleshooting</a></li>
                    <li><a href="#quick-reference">Quick Reference</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <div class="content-wrapper">
                <section id="what-is-this">
                    <h2>ğŸ¯ What is This System?</h2>
                    
                    <h3>Purpose</h3>
                    <p>An <strong>AI-powered test coverage validation system</strong> that uses <strong>Claude AI</strong> to automatically verify whether business scenarios have corresponding unit test coverage. It runs on every commit via pre-commit hooks and blocks commits when critical scenarios lack tests.</p>

                    <div class="feature-box">
                        <h3>ğŸ¤– Powered by Claude AI (Anthropic)</h3>
                        <ul>
                            <li>Uses Claude 4.5 Sonnet (auto-detected)</li>
                            <li>Natural language understanding</li>
                            <li>No manual fuzzy matching or pattern matching</li>
                            <li>100% AI-driven analysis</li>
                        </ul>
                    </div>

                    <h3>Key Capabilities</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <h4>âœ… AI-Powered Analysis</h4>
                            <p>Claude AI analyzes scenarios and tests using natural language</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Auto Model Detection</h4>
                            <p>Automatically selects best available Claude model</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Language Agnostic</h4>
                            <p>Supports Java, TypeScript, Python, Go</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Intelligent Categorization</h4>
                            <p>AI categorizes orphan tests as Technical vs Business</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Smart Recommendations</h4>
                            <p>Context-aware suggestions</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Pre-Commit Integration</h4>
                            <p>Automatic validation, blocks P0 gaps</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Visual Analytics</h4>
                            <p>Interactive charts and dashboards</p>
                        </div>
                        <div class="benefit-item">
                            <h4>âœ… Rich Reports</h4>
                            <p>HTML, JSON, Markdown, CSV outputs</p>
                        </div>
                    </div>

                    <h3>What Problems Does It Solve?</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Before</th>
                                <th>After</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>âŒ Manual verification of scenario coverage</td>
                                <td>âœ… AI automatically maps scenarios to tests</td>
                            </tr>
                            <tr>
                                <td>âŒ No automated way to ensure requirements are tested</td>
                                <td>âœ… Real-time coverage validation on every commit</td>
                            </tr>
                            <tr>
                                <td>âŒ Features ship without corresponding tests</td>
                                <td>âœ… P0 scenarios MUST have tests (enforced)</td>
                            </tr>
                            <tr>
                                <td>âŒ Unclear which tests cover which scenarios</td>
                                <td>âœ… Clear AI-powered recommendations</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="quick-setup">
                    <h2>âš¡ Quick Setup</h2>

                    <h3>Prerequisites</h3>
                    <pre><code># Check Node.js (>= 18 required)
node --version

# Check npm
npm --version

# Get Claude API key from https://console.anthropic.com/</code></pre>

                    <h3>Installation</h3>
                    <div style="max-width: 800px; margin: 0 auto;">
                        <div class="workflow-step">
                            <h4>1. Install dependencies</h4>
                            <pre><code>npm install</code></pre>
                        </div>
                        <div class="workflow-step">
                            <h4>2. Build TypeScript</h4>
                            <pre><code>npm run build</code></pre>
                        </div>
                        <div class="workflow-step">
                            <h4>3. Set Claude API key</h4>
                            <pre><code>export CLAUDE_API_KEY="sk-ant-your-key-here"
# OR
export ANTHROPIC_API_KEY="sk-ant-your-key-here"</code></pre>
                        </div>
                        <div class="workflow-step">
                            <h4>4. Install pre-commit hook</h4>
                            <pre><code>npm run install:hooks</code></pre>
                        </div>
                        <div class="workflow-step">
                            <h4>5. Verify setup</h4>
                            <pre><code>npm run generate   # Phase 1: AI generates scenarios
npm run continue   # Phase 2: AI analyzes coverage</code></pre>
                        </div>
                    </div>

                    <div class="alert alert-success">
                        <h4>âœ… Setup Complete!</h4>
                        <p>The system is now ready to use. Every commit will trigger automatic coverage analysis.</p>
                    </div>
                </section>

                <section id="how-ai-works">
                    <h2>ğŸ¤– How Claude AI Works</h2>

                    <div class="alert alert-info">
                        <h4>Key Innovation</h4>
                        <p>This system uses Claude AI with natural language understanding, NOT manual fuzzy matching or pattern matching. 100% AI-driven analysis.</p>
                    </div>

                    <h3>AI Model Selection</h3>
                    <pre><code>ğŸ” Auto-detecting best available Claude model...
   1. Query Anthropic Models API
   2. Check availability of preferred models:
      - claude-sonnet-4-5-20250929 (Claude 4.5 Sonnet)
      - claude-3-5-sonnet-20241022 (Claude 3.5 Sonnet latest)
      - claude-3-5-sonnet-20240620 (Claude 3.5 Sonnet fallback)
   3. Select first available
   4. Cache for session
   5. Fallback to Claude 3.5 Sonnet if API unavailable

   âœ“ Using: claude-sonnet-4-5-20250929 (Claude Sonnet 4.5)</code></pre>

                    <h3>Phase 1: AI Scenario Generation</h3>
                    <pre><code>// System discovers APIs (Swagger + Code Scan)
APIs discovered: POST /api/customers, GET /api/customers/{id}, ...

// Sends to Claude AI
Prompt: "Generate test scenarios for API: POST /api/customers
         Generate scenarios in categories: happy_case, edge_case, error_case, security"

// Claude AI responds with scenarios
Response: {
  "happy_case": ["When customer created with valid data, return 201"],
  "error_case": ["When created with missing email, return 400"]
}</code></pre>

                    <h3>Phase 2: AI Coverage Analysis</h3>
                    <pre><code>// Sends baseline + unit tests to Claude AI
Prompt: "Analyze coverage for POST /api/customers
         Determine coverage status for each scenario"

// Claude AI responds with analysis
Response: {
  "matches": [{
    "scenario": "When customer created with valid data, return 201",
    "status": "FULLY_COVERED",
    "testNumbers": [1],
    "explanation": "Test fully covers this scenario"
  }]
}</code></pre>

                    <h3>Coverage Status Indicators</h3>
                    <div class="alert alert-success">
                        <h4>âœ… FULLY_COVERED</h4>
                        <p>Claude AI confirmed unit test fully covers the scenario</p>
                    </div>
                    <div class="alert alert-warning">
                        <h4>âš ï¸ PARTIALLY_COVERED</h4>
                        <p>Test exists but doesn't fully cover all aspects</p>
                    </div>
                    <div class="alert alert-danger">
                        <h4>âŒ NOT_COVERED</h4>
                        <p>No unit test found - action required</p>
                    </div>
                </section>

                <section id="architecture">
                    <h2>ğŸ—ï¸ Architecture Overview</h2>

                    <h3>System Architecture</h3>
                    <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     User Interface Layer                     â”‚
â”‚  â€¢ CLI Commands (bin/ai-generate, bin/ai-continue)          â”‚
â”‚  â€¢ Pre-commit Hook (scripts/pre-commit.sh)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Orchestration Layer                        â”‚
â”‚  â€¢ ServiceManager - Service lifecycle management            â”‚
â”‚  â€¢ Main workflow coordination                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Core Engine Layer                        â”‚
â”‚  â€¢ AITestCaseGenerator - Scenario generation                â”‚
â”‚  â€¢ EnhancedCoverageAnalyzer - Coverage analysis             â”‚
â”‚  â€¢ GitChangeDetector - Change detection                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Utility Layer                              â”‚
â”‚  â€¢ SwaggerParser - API spec parsing                         â”‚
â”‚  â€¢ APIScanner - Code-based API discovery                    â”‚
â”‚  â€¢ TestParserFactory - Multi-language test parsing          â”‚
â”‚  â€¢ ModelDetector - Auto Claude model selection              â”‚
â”‚  â€¢ ReportGenerator - Multi-format report generation         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

                    <h3>Core Modules</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Module</th>
                                <th>File</th>
                                <th>Responsibility</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AITestCaseGenerator</strong></td>
                                <td>lib/core/AITestCaseGenerator.ts</td>
                                <td>Generate test cases using Claude AI</td>
                            </tr>
                            <tr>
                                <td><strong>EnhancedCoverageAnalyzer</strong></td>
                                <td>lib/core/EnhancedCoverageAnalyzer.ts</td>
                                <td>AI-based coverage analysis</td>
                            </tr>
                            <tr>
                                <td><strong>GitChangeDetector</strong></td>
                                <td>lib/core/GitChangeDetector.ts</td>
                                <td>Git diff analysis</td>
                            </tr>
                            <tr>
                                <td><strong>SwaggerParser</strong></td>
                                <td>lib/core/SwaggerParser.ts</td>
                                <td>Parse OpenAPI/Swagger specifications</td>
                            </tr>
                            <tr>
                                <td><strong>TestParserFactory</strong></td>
                                <td>lib/core/TestParserFactory.ts</td>
                                <td>Multi-language test parsing</td>
                            </tr>
                            <tr>
                                <td><strong>ServiceManager</strong></td>
                                <td>lib/core/ServiceManager.ts</td>
                                <td>Service configuration management</td>
                            </tr>
                            <tr>
                                <td><strong>ModelDetector</strong></td>
                                <td>lib/core/ModelDetector.ts</td>
                                <td>Auto Claude model selection</td>
                            </tr>
                            <tr>
                                <td><strong>ReportGenerator</strong></td>
                                <td>lib/core/ReportGenerator.ts</td>
                                <td>Multi-format report generation</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Supported Languages & Frameworks</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Language</th>
                                <th>Frameworks</th>
                                <th>Test Patterns</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Java</td>
                                <td>JUnit 4, JUnit 5, TestNG</td>
                                <td>*Test.java, *Tests.java</td>
                            </tr>
                            <tr>
                                <td>TypeScript/JavaScript</td>
                                <td>Jest, Mocha, Jasmine</td>
                                <td>*.test.ts, *.spec.ts</td>
                            </tr>
                            <tr>
                                <td>Python</td>
                                <td>Pytest, Unittest</td>
                                <td>test_*.py, *_test.py</td>
                            </tr>
                            <tr>
                                <td>Go</td>
                                <td>Go Test</td>
                                <td>*_test.go</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="running-locally">
                    <h2>ğŸš€ Running Locally</h2>

                    <h3>Basic Commands</h3>
                    <div class="command-box">
                        <h4>Phase 1: Generate AI test scenarios</h4>
                        <pre><code>npm run generate</code></pre>
                    </div>

                    <div class="command-box">
                        <h4>Phase 2: Analyze coverage with AI</h4>
                        <pre><code>npm run continue</code></pre>
                    </div>

                    <div class="command-box">
                        <h4>Combined: Generate + Analyze</h4>
                        <pre><code>npm run generate && npm run continue</code></pre>
                    </div>

                    <h3>Advanced Usage</h3>
                    <pre><code># Generate for specific service
node bin/ai-generate customer-service

# Analyze specific service
node bin/ai-continue customer-service

# Generate scenarios for single API
npm run generate:api -- --service customer-service --endpoint "POST /api/customers"

# Build TypeScript
npm run build</code></pre>

                    <h3>Output Examples</h3>
                    <div class="alert alert-info">
                        <h4>npm run generate:</h4>
                        <pre><code>ğŸ¤– Generating AI test cases: customer-service
ğŸ“¡ Discovering APIs...
   âœ“ Found 10 APIs

ğŸ¤– AI generating scenarios...
   Processing: POST /api/customers
   Processing: GET /api/customers/{id}

ğŸ“‹ Comparing with baseline (25 scenarios)...
   âœ“ Saved: .traceability/test-cases/ai_cases/customer-service-ai.yml

âœ… Generation complete!</code></pre>
                    </div>

                    <div class="alert alert-success">
                        <h4>npm run continue:</h4>
                        <pre><code>ğŸ“Š Analyzing: customer-service
âœ“ Baseline: 25 scenarios
âœ“ Unit tests: 42 found

ğŸ¤– AI analyzing coverage...
POST /api/customers:
  âœ… Covered: 8/10
  âš ï¸  Gaps: 2 not covered

ğŸ” Categorizing orphan tests...
  âœ… Technical: 10, Business: 2

ğŸ“ˆ Coverage: 82.5%
ğŸ“„ Generating reports...
  âœ… HTML: .traceability/reports/customer-service-report.html</code></pre>
                    </div>
                </section>

                <section id="pre-commit">
                    <h2>ğŸ”— Pre-Commit Hook</h2>

                    <h3>How It Works</h3>
                    <p>When you commit, the pre-commit hook automatically:</p>
                    <ol>
                        <li>Runs <code>npm run generate</code> (AI generates scenarios)</li>
                        <li>Runs <code>npm run continue</code> (AI analyzes coverage)</li>
                        <li>Checks for P0 gaps</li>
                        <li><strong>BLOCKS</strong> commit if P0 gaps found</li>
                        <li><strong>ALLOWS</strong> commit if no P0 gaps</li>
                        <li>Shows report location</li>
                    </ol>

                    <h3>Configuration</h3>
                    <p>Edit <code>.traceability/config.json</code>:</p>
                    <pre><code>{
  "preCommit": {
    "enabled": true,
    "blockOnP0Gaps": true,
    "blockOnP1Gaps": false
  }
}</code></pre>

                    <h3>Bypassing (Emergency Only)</h3>
                    <div class="alert alert-warning">
                        <h4>âš ï¸ Use Sparingly</h4>
                        <pre><code># Skip validation for this commit
git commit --no-verify -m "Emergency fix"

# Or temporarily disable
export SKIP_VALIDATION=true
git commit -m "Skip validation"</code></pre>
                    </div>
                </section>

                <section id="reports">
                    <h2>ğŸ“Š Interpreting Reports</h2>

                    <h3>HTML Report (Interactive Dashboard)</h3>
                    <p><strong>Location:</strong> <code>.traceability/reports/&lt;service&gt;-report.html</code></p>

                    <h4>Summary Cards</h4>
                    <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Coverage: 85%  â”‚  â”‚  P0 Gaps: 0     â”‚  â”‚  Orphans: 12    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

                    <h4>Visual Analytics (NEW)</h4>
                    <ul>
                        <li>Coverage Distribution: Progress bars</li>
                        <li>Gap Priority Breakdown: P0/P1/P2/P3 visual grid</li>
                        <li>Orphan Test Priority: Technical vs Business chart</li>
                    </ul>

                    <h4>Coverage Gaps</h4>
                    <div class="alert alert-danger">
                        <pre><code>ğŸš¨ P0 GAP
API: POST /api/customers
Scenario: When created with duplicate email, return 409
Status: NOT_COVERED
Recommendation: Create unit test to cover this critical scenario</code></pre>
                    </div>

                    <h4>Orphan Unit Tests (NEW)</h4>
                    <div class="alert alert-warning">
                        <pre><code>âš ï¸ ORPHAN UNIT TEST [P2]
Test: createCustomer_ShouldValidateEmail
File: CustomerControllerTest.java

ğŸ’¡ AI Suggestion: "When customer created with invalid email format,
                    return 400 with validation error"

Action: QA should add this AI-suggested scenario to baseline</code></pre>
                    </div>

                    <h4>Orphan APIs (NEW)</h4>
                    <div class="alert alert-warning">
                        <pre><code>âš ï¸ ORPHAN API [Critical]
POST /api/customers/bulk
Status: No baseline scenarios, No unit tests
Action: Add scenarios and tests, or remove if deprecated</code></pre>
                    </div>

                    <h3>JSON Report (CI/CD)</h3>
                    <p><strong>Location:</strong> <code>.traceability/reports/&lt;service&gt;-report.json</code></p>
                    <pre><code>{
  "service": "customer-service",
  "timestamp": "2025-12-10T01:30:00.000Z",
  "summary": {
    "totalScenarios": 25,
    "fullyCovered": 20,
    "coveragePercent": 80.0,
    "p0Gaps": 1,
    "p1Gaps": 2
  },
  "gaps": [...],
  "orphanAPIs": [...]
}</code></pre>
                </section>

                <section id="advanced-features">
                    <h2>ğŸš€ Advanced Features Deep Dive</h2>

                    <h3>Feature 1: Git Change Detection</h3>
                    <p><strong>Implementation:</strong> <code>lib/core/GitChangeDetector.ts</code></p>

                    <h4>How It Works</h4>
                    <ol>
                        <li>Executes <code>git diff</code> to get changed files</li>
                        <li>Filters service-related files</li>
                        <li>Analyzes each file's diff for API patterns</li>
                        <li>Extracts HTTP methods, endpoints, line numbers</li>
                        <li>Correlates with unit tests in test directories</li>
                    </ol>

                    <h4>Detection Patterns</h4>
                    <ul>
                        <li><strong>Java Spring:</strong> <code>@GetMapping</code>, <code>@PostMapping</code>, <code>@PutMapping</code>, <code>@DeleteMapping</code></li>
                        <li><strong>TypeScript/Express:</strong> <code>router.get()</code>, <code>app.post()</code></li>
                        <li><strong>Python/Flask:</strong> <code>@app.route()</code></li>
                        <li><strong>Python/FastAPI:</strong> <code>@router.get()</code></li>
                    </ul>

                    <h3>Feature 2: 3-Layer Completeness Detection</h3>
                    <p><strong>Implementation:</strong> <code>lib/core/EnhancedCoverageAnalyzer.ts</code></p>

                    <h4>Layer 1: Forward Check (API Spec â†’ Baseline)</h4>
                    <pre><code>// Find scenarios suggested by API spec but missing from baseline
const missingScenarios = findMissingScenarios(baselineScenarios, aiScenarios);

// For each missing scenario, check if unit test exists
const hasTest = checkIfUnitTestExists(scenario, unitTests);</code></pre>

                    <h4>Layer 1b: Reverse Check (Unit Tests â†’ Baseline)</h4>
                    <pre><code>// NEW: Find unit tests without baseline scenarios
const unscenarioedTests = findUnscenarioedTests(baselineScenarios, unitTests, api);

// For each orphan unit test, find AI-suggested scenario
for (const test of unscenarioedTests) {
  const aiSuggestion = findMatchingAIScenario(test, aiScenarios);
}</code></pre>

                    <h4>Layer 2: AI Coverage Analysis</h4>
                    <pre><code>// Send to Claude AI for semantic matching
const prompt = `Analyze test coverage for ${api}
Expected Scenarios: ${baselineScenarios}
Available Tests: ${unitTests}
Determine coverage status for each scenario.`;

const response = await anthropic.messages.create({
  model: detectedModel,
  messages: [{ role: 'user', content: prompt }]
});</code></pre>

                    <h3>Feature 3: Orphan Test Categorization</h3>
                    <p><strong>Implementation:</strong> <code>lib/core/EnhancedCoverageAnalyzer.ts</code></p>

                    <h4>AI Categorization Process</h4>
                    <pre><code>const prompt = `Categorize these unit tests as:
- TECHNICAL: Infrastructure tests (Entity, DTO, Mapper) - no scenario needed
- BUSINESS: Business logic tests (Controller, Service) - needs scenario

Tests: ${JSON.stringify(orphanTests)}`;

// Claude AI responds:
{
  "categorizations": [
    {
      "testNumber": 1,
      "category": "TECHNICAL",
      "subtype": "Entity Test",
      "priority": "P3",
      "action": "none"
    },
    {
      "testNumber": 2,
      "category": "BUSINESS",
      "subtype": "Controller Test",
      "priority": "P1",
      "action": "qa_add_scenario"
    }
  ]
}</code></pre>
                </section>

                <section id="implementation">
                    <h2>ğŸ’» Implementation Details</h2>

                    <h3>Core Classes</h3>

                    <h4>1. AITestCaseGenerator</h4>
                    <p><strong>File:</strong> <code>lib/core/AITestCaseGenerator.ts</code></p>
                    <p>Generates comprehensive test scenarios from API specifications using Claude AI.</p>

                    <h4>2. EnhancedCoverageAnalyzer</h4>
                    <p><strong>File:</strong> <code>lib/core/EnhancedCoverageAnalyzer.ts</code></p>
                    <p>AI-powered coverage analysis with orphan detection and visual analytics.</p>

                    <h4>3. GitChangeDetector</h4>
                    <p><strong>File:</strong> <code>lib/core/GitChangeDetector.ts</code></p>
                    <p>Detects code changes and API modifications via Git.</p>

                    <h4>4. ReportGenerator</h4>
                    <p><strong>File:</strong> <code>lib/core/ReportGenerator.ts</code></p>
                    <p>Generates multi-format reports with visual analytics.</p>

                    <div class="alert alert-info">
                        <h4>ğŸ“š For Full Implementation Details</h4>
                        <p>See the Developer Guide markdown: <code>docs/DEV_GUIDE.md</code></p>
                        <p>Includes detailed method signatures, code flows, and examples for all core classes.</p>
                    </div>
                </section>

                <section id="unit-tests">
                    <h2>âœï¸ Writing Unit Tests</h2>

                    <h3>Best Practices for AI Matching</h3>

                    <h4>âœ… Good Test Names (AI-friendly)</h4>
                    <pre><code>@Test
public void testCreateCustomerWithValidDataReturns201() { }

@Test
@DisplayName("When user creates customer with valid email, return 201")
public void testCreateCustomer() { }</code></pre>

                    <h4>âŒ Bad Test Names (Hard for AI)</h4>
                    <pre><code>@Test
public void test1() { }

@Test
public void testMethod() { }</code></pre>

                    <h3>Test Structure (AAA Pattern)</h3>
                    <pre><code>@Test
@DisplayName("When customer created with valid data, return 201")
public void testCreateCustomer() {
    // ARRANGE - Setup
    CustomerRequest request = new CustomerRequest();
    request.setEmail("test@example.com");
    
    // ACT - Execute
    CustomerResponse response = service.createCustomer(request);
    
    // ASSERT - Verify
    assertNotNull(response);
    assertEquals(201, response.getStatusCode());
    verify(repository).save(any());
}</code></pre>

                    <h3>Keywords for Better AI Matching</h3>
                    <p>Include these in test names/descriptions:</p>
                    <ul>
                        <li><strong>HTTP Methods:</strong> GET, POST, PUT, DELETE, PATCH</li>
                        <li><strong>Status Codes:</strong> 200, 201, 400, 401, 403, 404, 409, 500</li>
                        <li><strong>Actions:</strong> create, get, update, delete, validate, process</li>
                        <li><strong>Conditions:</strong> valid, invalid, missing, empty, duplicate</li>
                        <li><strong>Entities:</strong> customer, order, user, product, payment</li>
                    </ul>
                </section>

                <section id="examples">
                    <h2>ğŸ’¡ Real-World Examples</h2>

                    <h3>Example 1: New Feature Development</h3>
                    <p><strong>Scenario:</strong> Developer adds a new customer search API</p>

                    <div style="max-width: 800px; margin: 0 auto;">
                        <div class="workflow-step">
                            <h4>1. Developer implements API endpoint</h4>
                            <p>GET /api/customers/search</p>
                        </div>
                        <div class="workflow-step">
                            <h4>2. Developer writes unit tests</h4>
                            <p>testSearchByEmail, testSearchByPhone</p>
                        </div>
                        <div class="workflow-step">
                            <h4>3. Pre-commit hook runs</h4>
                            <p>System detects new API</p>
                        </div>
                        <div class="workflow-step">
                            <h4>4. System detects orphan tests</h4>
                            <p>Tests exist but no baseline scenarios</p>
                        </div>
                        <div class="workflow-step">
                            <h4>5. AI suggests scenarios</h4>
                            <p>QA reviews and adds to baseline</p>
                        </div>
                    </div>

                    <h3>Example 2: Refactoring Existing Code</h3>
                    <p><strong>Scenario:</strong> Developer refactors customer validation logic</p>

                    <div class="alert alert-success">
                        <h4>System Output:</h4>
                        <pre><code>ğŸ” Git changes detected:
  ~ Modified: CustomerService.java (45 lines changed)
  
ğŸ“‹ Affected Tests:
  - testValidateEmail
  - testValidatePhoneNumber
  
ğŸ“Š Coverage Analysis:
  âœ… All scenarios still covered
  No action required</code></pre>
                    </div>
                </section>

                <section id="best-practices">
                    <h2>ğŸ¯ Best Practices</h2>

                    <h3>For Developers</h3>
                    <ol>
                        <li><strong>Write Descriptive Test Names</strong> - Include HTTP method and status code</li>
                        <li><strong>Use @DisplayName Annotations</strong> - Makes AI matching more accurate</li>
                        <li><strong>Group Related Tests</strong> - Use test classes for each API endpoint</li>
                        <li><strong>Run Analysis Before Pushing</strong> - <code>npm run continue</code> before commit</li>
                        <li><strong>Don't Fight the Pre-Commit Hook</strong> - Fix gaps properly instead of skipping</li>
                    </ol>

                    <h3>For QA Engineers</h3>
                    <ol>
                        <li><strong>Keep Baseline Updated</strong> - Review AI suggestions regularly</li>
                        <li><strong>Use Proper Priority Levels</strong> - P0: Critical, P1: Important, P2: Edge cases, P3: Nice-to-have</li>
                        <li><strong>Write Clear Scenarios</strong> - Use "When...then..." format</li>
                        <li><strong>Review Orphan Unit Tests</strong> - Check AI suggestions weekly</li>
                        <li><strong>Monitor Visual Analytics</strong> - Track coverage trends over time</li>
                    </ol>

                    <h3>For Team Leads</h3>
                    <ol>
                        <li><strong>Set Coverage Standards</strong> - Define acceptable coverage thresholds</li>
                        <li><strong>Review Reports Regularly</strong> - Weekly coverage dashboard reviews</li>
                        <li><strong>Facilitate Dev-QA Collaboration</strong> - Use AI suggestions as discussion starters</li>
                        <li><strong>Leverage CI/CD Integration</strong> - Parse JSON reports in pipeline</li>
                    </ol>
                </section>

                <section id="troubleshooting">
                    <h2>ğŸ› Troubleshooting</h2>

                    <h3>Error: "Claude API key not found"</h3>
                    <pre><code># Set API key
export CLAUDE_API_KEY="sk-ant-your-key-here"
# OR
export ANTHROPIC_API_KEY="sk-ant-your-key-here"

# Verify
echo $CLAUDE_API_KEY</code></pre>

                    <h3>Error: "No tests found"</h3>
                    <p><strong>Check Configuration:</strong></p>
                    <pre><code>{
  "services": [{
    "testDirectory": "src/test/java",  // Check this path
    "testPattern": "*Test.java"         // Check this pattern
  }]
}</code></pre>

                    <pre><code># Verify tests exist
ls -la services/customer-service/src/test/java

# Find test files
find services/customer-service -name "*Test.java"</code></pre>

                    <h3>Low Coverage Scores</h3>
                    <p><strong>Solutions:</strong></p>
                    <ol>
                        <li><strong>Improve Test Naming</strong> - Use descriptive names that match scenario language</li>
                        <li><strong>Check Scenario Descriptions</strong> - Make scenarios clear and specific</li>
                        <li><strong>Review AI Analysis</strong> - Check the JSON report for AI explanations</li>
                    </ol>

                    <h3>Pre-Commit Hook Not Running</h3>
                    <pre><code># Re-install hooks
npm run install:hooks

# Check if hook exists
ls -la .git/hooks/pre-commit

# Make executable
chmod +x .git/hooks/pre-commit</code></pre>

                    <div class="alert alert-info">
                        <h4>ğŸ“š More Troubleshooting</h4>
                        <p>For detailed troubleshooting steps, see: <code>docs/DEV_GUIDE.md</code></p>
                    </div>
                </section>

                <section id="quick-reference">
                    <h2>ğŸ¯ Quick Reference</h2>

                    <h3>File Locations</h3>
                    <pre><code>.traceability/
â”œâ”€â”€ config.json                          # Configuration
â”œâ”€â”€ test-cases/
â”‚   â”œâ”€â”€ baseline/                        # QA-managed scenarios
â”‚   â”‚   â””â”€â”€ customer-service-baseline.yml
â”‚   â””â”€â”€ ai_cases/                        # AI-generated (auto)
â”‚       â””â”€â”€ customer-service-ai.yml      # âœ… in baseline, ğŸ†• new
â””â”€â”€ reports/                             # Generated reports
    â”œâ”€â”€ customer-service-report.html     # Interactive dashboard
    â”œâ”€â”€ customer-service-report.json     # CI/CD data
    â”œâ”€â”€ customer-service-report.md       # Documentation
    â””â”€â”€ customer-service-report.csv      # Spreadsheet</code></pre>

                    <h3>Common Commands</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Command</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>npm run generate</code></td>
                                <td>Generate AI scenarios</td>
                            </tr>
                            <tr>
                                <td><code>npm run continue</code></td>
                                <td>Analyze coverage with AI</td>
                            </tr>
                            <tr>
                                <td><code>npm run generate:api</code></td>
                                <td>Generate for single API</td>
                            </tr>
                            <tr>
                                <td><code>npm run build</code></td>
                                <td>Build TypeScript</td>
                            </tr>
                            <tr>
                                <td><code>npm run install:hooks</code></td>
                                <td>Install pre-commit hook</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Priority Levels</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Priority</th>
                                <th>Purpose</th>
                                <th>Blocks?</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>P0</td>
                                <td>Security, critical flows</td>
                                <td>YES</td>
                                <td>Auth, payments</td>
                            </tr>
                            <tr>
                                <td>P1</td>
                                <td>Important features</td>
                                <td>Configurable</td>
                                <td>CRUD operations</td>
                            </tr>
                            <tr>
                                <td>P2</td>
                                <td>Edge cases</td>
                                <td>NO</td>
                                <td>Long inputs</td>
                            </tr>
                            <tr>
                                <td>P3</td>
                                <td>Technical tests</td>
                                <td>NO</td>
                                <td>DTO mapping</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Key Technologies</h3>
                    <ul>
                        <li><strong>AI Engine:</strong> Claude AI (Anthropic)</li>
                        <li><strong>Model:</strong> Claude 4.5 Sonnet (auto-detected)</li>
                        <li><strong>Languages:</strong> Java, TypeScript, Python, Go</li>
                        <li><strong>Reports:</strong> HTML, JSON, Markdown, CSV</li>
                        <li><strong>Hook:</strong> Git pre-commit (automatic)</li>
                    </ul>

                    <div class="alert alert-info" style="margin-top: 2rem;">
                        <h4>ğŸ“š Additional Resources</h4>
                        <ul>
                            <li><strong>QA Guide:</strong> <code>docs/QA_GUIDE.html</code></li>
                            <li><strong>Testing Guide:</strong> <code>docs/TESTING-GUIDE.md</code></li>
                            <li><strong>Completeness Detection:</strong> <code>docs/SCENARIO-COMPLETENESS-DETECTION.md</code></li>
                            <li><strong>Implementation Summary:</strong> <code>IMPLEMENTATION_SUMMARY.md</code></li>
                            <li><strong>Features:</strong> <code>FEATURES.md</code></li>
                        </ul>
                    </div>

                    <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border-radius: 0.5rem;">
                        <p style="font-size: 1.1rem; margin: 0;"><strong>Version 6.0.0</strong> | <strong>Powered By:</strong> Claude AI (Anthropic) | <strong>Status:</strong> Production Ready</p>
                        <p style="font-size: 0.9rem; margin-top: 0.5rem; color: #64748b;">100% AI-driven analysis - No manual fuzzy matching or pattern matching</p>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <button class="scroll-top" id="scrollTopBtn">â†‘</button>

    <script>
        // Scroll to top button visibility and click handler
        window.addEventListener('scroll', function() {
            const scrollTop = document.querySelector('.scroll-top');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        // Scroll to top on button click
        document.getElementById('scrollTopBtn').addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Smooth scroll for sidebar links
        document.querySelectorAll('.sidebar a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
