<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïµÔ∏è Traceability Matrix Report</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border-left: 5px solid #667eea;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }
        .stat-label {
            font-size: 0.95em;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        .stat-detail {
            font-size: 0.85em;
            color: #999;
        }
        .section { padding: 40px; }
        .section h2 {
            color: #333;
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .table-container { overflow-x: auto; margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 10px; overflow: hidden; }
        thead { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        th { padding: 15px; text-align: left; font-weight: 600; font-size: 0.95em; }
        td { padding: 15px; border-bottom: 1px solid #f0f0f0; }
        tbody tr:hover { background: #f8f9fa; }
        .badge { display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-danger { background: #f8d7da; color: #721c24; }
        .badge-info { background: #d1ecf1; color: #0c5460; }
        .gap-card {
            background: white;
            border-left: 5px solid #ff4444;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .gap-card.warning { border-left-color: #ffbb33; }
        .gap-card h3 { color: #333; margin-bottom: 10px; }
        .gap-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .gap-detail { background: #f8f9fa; padding: 10px; border-radius: 5px; }
        .gap-detail-label { font-size: 0.85em; color: #666; margin-bottom: 5px; }
        .gap-detail-value { font-weight: 600; color: #333; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïµÔ∏è Traceability Matrix Report</h1>
            <p style="font-size: 1.1em; margin-top: 10px;">Generated: December 5, 2025 at 06:26 AM | Mode: Selective</p>
            <p style="margin-top: 10px; opacity: 0.9;">Comprehensive Unit Test Coverage Analysis</p>
        </div>
        
        
    <div class="stats-grid">
        <div class="stat-card" style="border-left-color: #00C851;">
            <div class="stat-value">54%</div>
            <div class="stat-label">Coverage</div>
            <div class="stat-detail">7/13 scenarios</div>
        </div>
        <div class="stat-card" style="border-left-color: #ff4444;">
            <div class="stat-value">0</div>
            <div class="stat-label">P0 Critical Gaps</div>
            <div class="stat-detail">Immediate action required</div>
        </div>
        <div class="stat-card" style="border-left-color: #ffbb33;">
            <div class="stat-value">2</div>
            <div class="stat-label">P1 High Priority</div>
            <div class="stat-detail">Next sprint</div>
        </div>
        <div class="stat-card" style="border-left-color: #33b5e5;">
            <div class="stat-value">34</div>
            <div class="stat-label">Unit Tests</div>
            <div class="stat-detail">2 services</div>
        </div>
        <div class="stat-card" style="border-left-color: #9933CC;">
            <div class="stat-value">0</div>
            <div class="stat-label">Orphan Tests</div>
            <div class="stat-detail">Need scenario mapping</div>
        </div>
        <div class="stat-card" style="border-left-color: #669900;">
            <div class="stat-value">1</div>
            <div class="stat-label">Partial Coverage</div>
            <div class="stat-detail">Needs improvement</div>
        </div>
    </div>
        
        
        
        
    <div class="section">
        <h2>‚ö†Ô∏è High Priority Gaps (P1) - Next Sprint</h2>
        
            <div class="gap-card warning">
                <h3>üü° NF003: Malformed JSON payload (400)</h3>
                <p style="color: #666; margin: 10px 0;"><strong>Impact:</strong> Security - prevents crashes from bad input</p>
                <div class="gap-details">
                    <div class="gap-detail">
                        <div class="gap-detail-label">Gap Explanation</div>
                        <div class="gap-detail-value">CRITICAL GAP: No unit test validates graceful handling of malformed JSON. Relies on framework behavior.</div>
                    </div>
                    <div class="gap-detail">
                        <div class="gap-detail-label">Priority</div>
                        <div class="gap-detail-value">P1</div>
                    </div>
                </div>
            </div>
        
            <div class="gap-card warning">
                <h3>üü° KAF003: Kafka timeout</h3>
                <p style="color: #666; margin: 10px 0;"><strong>Impact:</strong> Performance degradation</p>
                <div class="gap-details">
                    <div class="gap-detail">
                        <div class="gap-detail-label">Gap Explanation</div>
                        <div class="gap-detail-value">GAP: No test for Kafka publish timeout scenario.</div>
                    </div>
                    <div class="gap-detail">
                        <div class="gap-detail-label">Priority</div>
                        <div class="gap-detail-value">P1</div>
                    </div>
                </div>
            </div>
        
    </div>
  
        
        <div class="section">
            <h2>üìã Complete Scenario-to-Unit-Test Mapping</h2>
            <p style="color: #666; margin-bottom: 20px;">Clear mapping of business scenarios to unit test cases</p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Scenario ID</th>
                            <th>Description</th>
                            <th>Unit Tests</th>
                            <th>Service</th>
                            <th>Coverage</th>
                            <th>Priority</th>
                            <th>Gap Analysis</th>
                            <th>Action Required</th>
                            <th>Suggestion</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                        <tr>
                            <td><strong>HF001</strong></td>
                            <td>Create user with valid payload</td>
                            <td style="font-size: 0.85em;">test_user_controller_1, test_user_service_1, test_mongo_user_repository_1</td>
                            <td><span class="badge badge-info">onboarding-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P3</span></td>
                            <td style="font-size: 0.9em;">None. Multiple unit tests cover this scenario comprehensively.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>HF002</strong></td>
                            <td>Get user with valid ID</td>
                            <td style="font-size: 0.85em;">test_user_service_7, test_mongo_user_repository_3, test_mongo_user_repository_6, test_user_controller_7, test_profile_controller_5, test_profile_controller_7, test_profile_controller_9</td>
                            <td><span class="badge badge-info">onboarding-service, identity-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P3</span></td>
                            <td style="font-size: 0.9em;">None. Multiple unit tests cover this scenario comprehensively.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF001</strong></td>
                            <td>Create user missing required field (email)</td>
                            <td style="font-size: 0.85em;">test_user_controller_2</td>
                            <td><span class="badge badge-info">onboarding-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">None. Happy path is properly validated.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF002</strong></td>
                            <td>Get user with invalid ID (404)</td>
                            <td style="font-size: 0.85em;">test_user_controller_9, test_user_service_8, test_mongo_user_repository_4, test_mongo_user_repository_7, test_profile_controller_6, test_profile_controller_10, test_profile_controller_13, test_profile_service_9, test_profile_service_11, test_profile_service_13, test_profile_service_16, test_mongo_profile_repository_3, test_mongo_profile_repository_9, test_profile_controller_8</td>
                            <td><span class="badge badge-info">onboarding-service, identity-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P3</span></td>
                            <td style="font-size: 0.9em;">None. Multiple unit tests cover this scenario comprehensively.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF003</strong></td>
                            <td>Malformed JSON payload (400)</td>
                            <td style="font-size: 0.85em;">None</td>
                            <td><span class="badge badge-info">N/A</span></td>
                            <td><span class="badge badge-danger">Not Covered</span></td>
                            <td><span class="badge badge-info">P1</span></td>
                            <td style="font-size: 0.9em;">CRITICAL GAP: No unit test validates graceful handling of malformed JSON. Relies on framework behavior.</td>
                            <td><span class="badge" style="background: #ff6b6b; color: white;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Implement unit tests for: Malformed JSON payload (400). Focus on POST /api/user endpoint validation.</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF004</strong></td>
                            <td>Duplicate email (409)</td>
                            <td style="font-size: 0.85em;">test_user_controller_5, test_user_service_3, test_profile_service_3, test_profile_controller_3</td>
                            <td><span class="badge badge-info">onboarding-service, identity-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P3</span></td>
                            <td style="font-size: 0.9em;">None. Multiple unit tests cover this scenario comprehensively.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF005</strong></td>
                            <td>Invalid email format (400)</td>
                            <td style="font-size: 0.85em;">test_user_controller_4, test_user_service_4, test_user_service_5, test_user_service_6</td>
                            <td><span class="badge badge-info">onboarding-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P3</span></td>
                            <td style="font-size: 0.9em;">None. Multiple unit tests cover this scenario comprehensively.</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF006</strong></td>
                            <td>Missing name field (400)</td>
                            <td style="font-size: 0.85em;">test_user_controller_3</td>
                            <td><span class="badge badge-info">onboarding-service</span></td>
                            <td><span class="badge badge-warning">Partially Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">Some aspects covered, but incomplete validation</td>
                            <td><span class="badge" style="background: #feca57; color: #333;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Add more unit tests to cover edge cases and negative scenarios comprehensively.</td>
                        </tr>
                          
                        <tr>
                            <td><strong>NF007</strong></td>
                            <td>Empty string values (400)</td>
                            <td style="font-size: 0.85em;">test_user_controller_3</td>
                            <td><span class="badge badge-info">onboarding-service</span></td>
                            <td><span class="badge badge-success">Fully Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">Unexpectedly covered by unit tests</td>
                            <td><span class="badge badge-success">No Action</span></td>
                            <td style="font-size: 0.85em;">Scenario is adequately covered</td>
                        </tr>
                          
                        <tr>
                            <td><strong>EC001</strong></td>
                            <td>Boundary-condition input (Max string length)</td>
                            <td style="font-size: 0.85em;">None</td>
                            <td><span class="badge badge-info">N/A</span></td>
                            <td><span class="badge badge-danger">Not Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">Unit test only checks name boundary. Missing boundary check for email field.</td>
                            <td><span class="badge" style="background: #ff6b6b; color: white;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Implement unit tests for: Boundary-condition input (Max string length). Focus on POST /api/user endpoint validation.</td>
                        </tr>
                          
                        <tr>
                            <td><strong>EC002</strong></td>
                            <td>Very long email (>254 chars)</td>
                            <td style="font-size: 0.85em;">None</td>
                            <td><span class="badge badge-info">N/A</span></td>
                            <td><span class="badge badge-danger">Not Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">GAP: RFC 5321 max email length (254 chars) not validated.</td>
                            <td><span class="badge" style="background: #ff6b6b; color: white;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Implement unit tests for: Very long email (>254 chars). Focus on POST /api/user endpoint validation.</td>
                        </tr>
                          
                        <tr>
                            <td><strong>EC003</strong></td>
                            <td>Special characters in name</td>
                            <td style="font-size: 0.85em;">None</td>
                            <td><span class="badge badge-info">N/A</span></td>
                            <td><span class="badge badge-danger">Not Covered</span></td>
                            <td><span class="badge badge-info">P2</span></td>
                            <td style="font-size: 0.9em;">GAP: No validation for special chars, emojis, or unicode in name field.</td>
                            <td><span class="badge" style="background: #ff6b6b; color: white;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Implement unit tests for: Special characters in name. Focus on POST /api/user endpoint validation.</td>
                        </tr>
                          
                        <tr>
                            <td><strong>KAF003</strong></td>
                            <td>Kafka timeout</td>
                            <td style="font-size: 0.85em;">None</td>
                            <td><span class="badge badge-info">N/A</span></td>
                            <td><span class="badge badge-danger">Not Covered</span></td>
                            <td><span class="badge badge-info">P1</span></td>
                            <td style="font-size: 0.9em;">GAP: No test for Kafka publish timeout scenario.</td>
                            <td><span class="badge" style="background: #ff6b6b; color: white;">Dev Team</span></td>
                            <td style="font-size: 0.85em;">Implement unit tests for: Kafka timeout. Focus on POST /api/user endpoint validation.</td>
                        </tr>
                          
                    </tbody>
                </table>
            </div>
        </div>

        
        <!-- Orphan Unit Tests -->
        <div class="section">
            <h2>üîç Orphan Unit Tests</h2>
            <div class="gap-card" style="border-left-color: #00C851;">
                <h3>‚úÖ Perfect Traceability</h3>
                <p style="color: #666; margin-top: 10px;">
                    All unit tests are mapped to defined scenarios. No orphan tests detected!
                </p>
            </div>
        </div>
  
        
        <div class="section" style="background: #f8f9fa; text-align: center;">
            <h3 style="color: #667eea; margin-bottom: 15px;">üìä Coverage Summary</h3>
            <p style="font-size: 1.2em; color: #333;">
                <strong>54%</strong> of scenarios have adequate unit test coverage
            </p>
            <p style="color: #666; margin-top: 10px;">
                7 fully covered | 1 partial | 5 not covered
            </p>
        </div>
    </div>
</body>
</html>